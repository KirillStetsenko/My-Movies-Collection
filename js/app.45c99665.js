(function(){"use strict";var t={8442:function(t,e,o){var i=o(5130),s=o(6768);const r={class:"app"};function a(t,e,o,i,a,n){const c=(0,s.g2)("corner-git"),l=(0,s.g2)("header-block"),v=(0,s.g2)("nav-block"),u=(0,s.g2)("main-block");return(0,s.uX)(),(0,s.CE)("main",r,[(0,s.bF)(c),(0,s.bF)(l),(0,s.bF)(v),(0,s.bF)(u,{onAddMovie:t.handleAddMovie},null,8,["onAddMovie"])])}const n={class:"cornerLink"},c={href:"https://github.com/KirillStetsenko",class:"github-corner",title:"GitHub",target:"blank"},l={width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",left:"0",transform:"scale(-1, 1)"}},v=(0,s.Lk)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"},null,-1),u=(0,s.Lk)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"},null,-1),d=(0,s.Lk)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"},null,-1),m=[v,u,d];function g(t,e,o,i,r,a){return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("a",c,[((0,s.uX)(),(0,s.CE)("svg",l,m))])])}var p={},h=o(1241);const L=(0,h.A)(p,[["render",g]]);var b=L,f=o.p+"img/logo.a629b3eb.png";const k=t=>((0,s.Qi)("data-v-022c28c8"),t=t(),(0,s.jt)(),t),C={class:"header"},y=k((()=>(0,s.Lk)("img",{class:"logo",src:f,alt:"logo"},null,-1))),$=k((()=>(0,s.Lk)("div",{class:"title"},[(0,s.eW)(" My "),(0,s.Lk)("span",{class:"spanText"}," Movies "),(0,s.eW)(" Collection ")],-1))),M=[y,$];function _(t,e,o,i,r,a){return(0,s.uX)(),(0,s.CE)("header",C,M)}var S={};const F=(0,h.A)(S,[["render",_],["__scopeId","data-v-022c28c8"]]);var A=F,X=o(4232);const w={class:"nav"};function E(t,e,o,i,r,a){return(0,s.uX)(),(0,s.CE)("nav",w,[(0,s.Lk)("button",{class:(0,X.C4)(["navBtn",{activeTab:1===t.$store.getters.tab}]),onClick:e[0]||(e[0]=e=>t.$store.state.tab=1)}," All "+(0,X.v_)(t.$store.getters.movies.length),3),(0,s.Lk)("button",{class:(0,X.C4)(["navBtn",{activeTab:2===t.$store.getters.tab}]),onClick:e[1]||(e[1]=e=>t.$store.state.tab=2)}," Favourite "+(0,X.v_)(t.$store.getters.favourites.length),3),(0,s.Lk)("button",{class:(0,X.C4)(["navBtn",{activeTab:3===t.$store.getters.tab}]),onClick:e[2]||(e[2]=e=>t.$store.state.tab=3)}," Watched "+(0,X.v_)(t.$store.getters.watched.length),3),(0,s.Lk)("button",{class:(0,X.C4)(["navBtn",{activeTab:4===t.$store.getters.tab}]),onClick:e[3]||(e[3]=e=>t.$store.state.tab=4)}," Search ",2)])}var W={};const B=(0,h.A)(W,[["render",E],["__scopeId","data-v-b9b2612c"]]);var I=B;const O={class:"main"},T={key:0,class:"category"},D={class:"movie-container"},j={key:1,class:"category"},x={class:"movie-container"},N={key:2,class:"category"},J={class:"movie-container"},G={key:3,class:"search"};function K(t,e,o,i,r,a){const n=(0,s.g2)("top-bar"),c=(0,s.g2)("movie-card"),l=(0,s.g2)("search-block"),v=(0,s.g2)("loader");return(0,s.uX)(),(0,s.CE)("main",O,[1===t.$store.getters.tab?((0,s.uX)(),(0,s.CE)("div",T,[(0,s.bF)(n,{title:"All Movies",movieCount:t.$store.getters.movies.length,sort:t.$store.state.sort,onToggleSortDirection:t.toggleSortDirection},null,8,["movieCount","sort","onToggleSortDirection"]),(0,s.Lk)("div",D,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.getters.movies,(t=>((0,s.uX)(),(0,s.Wv)(c,{key:t.id,movie:t},null,8,["movie"])))),128))])])):2===t.$store.getters.tab?((0,s.uX)(),(0,s.CE)("div",j,[(0,s.bF)(n,{title:"Favourites",movieCount:t.$store.getters.favourites.length,sort:t.$store.state.sort,onToggleSortDirection:t.toggleSortDirection},null,8,["movieCount","sort","onToggleSortDirection"]),(0,s.Lk)("div",x,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.getters.favourites,(t=>((0,s.uX)(),(0,s.Wv)(c,{key:t.id,movie:t},null,8,["movie"])))),128))])])):3===t.$store.getters.tab?((0,s.uX)(),(0,s.CE)("div",N,[(0,s.bF)(n,{title:"Watched",movieCount:t.$store.getters.watched.length,sort:t.$store.state.sort,onToggleSortDirection:t.toggleSortDirection},null,8,["movieCount","sort","onToggleSortDirection"]),(0,s.Lk)("div",J,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.getters.watched,(t=>((0,s.uX)(),(0,s.Wv)(c,{key:t.id,movie:t},null,8,["movie"])))),128))])])):((0,s.uX)(),(0,s.CE)("div",G,[(0,s.bF)(l,{onAddMovie:a.addMovie},null,8,["onAddMovie"]),(0,s.bF)(v,{loading:t.$store.state.isLoading},null,8,["loading"])]))])}const P=t=>((0,s.Qi)("data-v-91e8d3bc"),t=t(),(0,s.jt)(),t),Q={class:"topbar"},U={class:"title"},H={class:"counter"},R={class:"sortBlock"},V=P((()=>(0,s.Lk)("span",{class:"sortText"},"Sort By: ",-1))),Z=P((()=>(0,s.Lk)("option",{value:"title"},"Title",-1))),q=P((()=>(0,s.Lk)("option",{value:"year"},"Year",-1))),z=P((()=>(0,s.Lk)("option",{value:"popularity"},"Popularity",-1))),Y=[Z,q,z];function tt(t,e,o,r,a,n){return(0,s.uX)(),(0,s.CE)("main",Q,[(0,s.Lk)("div",U,[(0,s.eW)((0,X.v_)(o.title)+" ",1),(0,s.Lk)("span",H,(0,X.v_)(o.movieCount),1)]),(0,s.Lk)("div",R,[V,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.$store.state.sort=e)},Y,512),[[i.u1,t.$store.state.sort]]),(0,s.Lk)("button",{class:"btnSort",onClick:e[1]||(e[1]=e=>t.$store.commit("toggleSortDirection"))}," â®ƒ ")])])}var et={props:{title:String,movieCount:Number,sort:String}};const ot=(0,h.A)(et,[["render",tt],["__scopeId","data-v-91e8d3bc"]]);var it=ot;const st={class:"movieCard"},rt={class:"poster"},at=["src","alt"],nt={class:"infoBlock"},ct={class:"info"},lt={class:"title"},vt={class:"year"},ut={class:"description"},dt={class:"lang"},mt={class:"popularity"},gt={class:"btnBlock"},pt={key:1};function ht(t,e,o,i,r,a){return(0,s.uX)(),(0,s.CE)("main",st,[(0,s.Lk)("div",rt,[(0,s.Lk)("img",{src:`https://image.tmdb.org/t/p/w300${o.movie.poster_path}`,alt:o.movie.original_title,width:"150"},null,8,at)]),(0,s.Lk)("div",nt,[(0,s.Lk)("div",ct,[(0,s.Lk)("div",lt,[(0,s.eW)((0,X.v_)(o.movie.title)+" ",1),(0,s.Lk)("span",vt,"("+(0,X.v_)(o.movie.release_date.slice(0,4))+")",1)]),(0,s.Lk)("div",ut,(0,X.v_)(o.movie.overview),1),(0,s.Lk)("div",dt," Language: "+(0,X.v_)(o.movie.original_language.toUpperCase()),1),(0,s.Lk)("div",mt," Popularity: "+(0,X.v_)(o.movie.popularity.toFixed(1)),1)]),(0,s.Lk)("div",gt,[4===t.$store.state.tab?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"btn",onClick:e[0]||(e[0]=t=>a.addMovie(o.movie))}," Add ")):((0,s.uX)(),(0,s.CE)("div",pt,[(0,s.Lk)("button",{class:(0,X.C4)(["btn favourite",{isFav:o.movie.isFavourite}]),onClick:e[1]||(e[1]=t=>a.toggleFavourite(o.movie.id))}," Favourites ",2),(0,s.Lk)("button",{class:(0,X.C4)(["btn watched",{isWatched:o.movie.isWatched}]),onClick:e[2]||(e[2]=t=>a.toggleWatched(o.movie.id))}," Watched ",2),(0,s.Lk)("button",{class:"btn remove",onClick:e[3]||(e[3]=t=>a.removeMovie(o.movie.id))}," Remove ")]))])])])}var Lt={name:"MovieCard",props:["movie"],methods:{toggleFavourite(t){this.$store.commit("toggleFavourite",t)},toggleWatched(t){this.$store.commit("toggleWatched",t)},removeMovie(t){this.$store.commit("removeMovie",t)},addMovie(t){this.$store.commit("addMovie",t)}}};const bt=(0,h.A)(Lt,[["render",ht],["__scopeId","data-v-5494005d"]]);var ft=bt;const kt={class:"search"},Ct={class:"searchBlock"},yt={class:"error"},$t={class:"list"};function Mt(t,e,o,r,a,n){const c=(0,s.g2)("movie-card");return(0,s.uX)(),(0,s.CE)("main",kt,[(0,s.Lk)("div",Ct,[(0,s.bo)((0,s.Lk)("input",{class:"searchInput",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.movie=t),onKeydown:e[1]||(e[1]=(0,i.jR)(((...t)=>n.getMovies&&n.getMovies(...t)),["enter"]))},null,544),[[i.Jo,a.movie]]),(0,s.Lk)("button",{class:"searchBtn",onClick:e[2]||(e[2]=(...t)=>n.getMovies&&n.getMovies(...t))},"Get")]),(0,s.bo)((0,s.Lk)("div",yt," No results ",512),[[i.aG,!t.$store.state.searchMovies.length]]),(0,s.bo)((0,s.Lk)("div",$t,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.searchMovies,(t=>((0,s.uX)(),(0,s.Wv)(c,{key:t.id,movie:t},null,8,["movie"])))),128))],512),[[i.aG,t.$store.state.searchMovies.length]])])}var _t={components:{MovieCard:ft},data(){return{movie:""}},methods:{getMovies(){this.$store.dispatch("getMovies",this.movie)}}};const St=(0,h.A)(_t,[["render",Mt],["__scopeId","data-v-4ccda2da"]]);var Ft=St;const At=t=>((0,s.Qi)("data-v-2612c682"),t=t(),(0,s.jt)(),t),Xt={key:0,class:"loader"},wt=At((()=>(0,s.Lk)("div",{class:"spinner"},null,-1))),Et=[wt];function Wt(t,e,o,i,r,a){return o.loading?((0,s.uX)(),(0,s.CE)("div",Xt,Et)):(0,s.Q3)("",!0)}var Bt={name:"Loader",props:{loading:{type:Boolean,default:!1}}};const It=(0,h.A)(Bt,[["render",Wt],["__scopeId","data-v-2612c682"]]);var Ot=It,Tt={name:"MainBlock",components:{TopBar:it,MovieCard:ft,SearchBlock:Ft,Loader:Ot},methods:{addMovie(t){this.$emit("addMovie",t)}},mounted(){this.$store.state.movieList=JSON.parse(localStorage.getItem("movieList"))||[]},computed:{currentSort(){return this.$store.state.sort}},watch:{currentSort(){this.$store.commit("sort",this.currentSort)}}};const Dt=(0,h.A)(Tt,[["render",K],["__scopeId","data-v-f6307f1c"]]);var jt=Dt,xt={name:"App",components:{HeaderBlock:A,NavBlock:I,MainBlock:jt,CornerGit:b}};const Nt=(0,h.A)(xt,[["render",a]]);var Jt=Nt,Gt=(o(4114),o(782));const Kt=(0,Gt.y$)({state:{tab:1,isLoading:!1,movieList:[],searchMovies:[],sort:"title",sortDirection:"asc"},getters:{tab(t){return t.tab},movies(t){return Array.isArray(t.movieList)?t.movieList:[]},favourites(t){return Array.isArray(t.movieList)?t.movieList.filter((t=>t.isFavourite)):[]},watched(t){return Array.isArray(t.movieList)?t.movieList.filter((t=>t.isWatched)):[]}},mutations:{setLoader(t,e){t.isLoading=e},setSearchMovies(t,e){t.searchMovies=e.results},setMovieList(t,e){t.movieList=e},addMovie(t,e){t.movieList.some((t=>t.id===e.id))||(t.movieList.push(e),localStorage.setItem("movieList",JSON.stringify(t.movieList)))},removeMovie(t,e){t.movieList=t.movieList.filter((t=>t.id!==e)),localStorage.setItem("movieList",JSON.stringify(t.movieList))},toggleSortDirection(t){t.sortDirection="asc"===t.sortDirection?"desc":"asc",this.commit("sort",t.sort)},toggleFavourite(t,e){const o=t.movieList.find((t=>t.id===e));o&&(o.isFavourite=!o.isFavourite,localStorage.setItem("movieList",JSON.stringify(t.movieList)))},toggleWatched(t,e){const o=t.movieList.find((t=>t.id===e));o&&(o.isWatched=!o.isWatched,localStorage.setItem("movieList",JSON.stringify(t.movieList)))},sort(t,e){t.sort=e;let o="asc"===t.sortDirection?1:-1;switch(e){case"title":t.movieList=t.movieList.sort(((t,e)=>o*t.original_title.localeCompare(e.original_title)));break;case"year":t.movieList=t.movieList.sort(((t,e)=>o*t.release_date.localeCompare(e.release_date)));break;case"popularity":t.movieList=t.movieList.sort(((t,e)=>o*(e.popularity-t.popularity)));break;default:break}localStorage.setItem("movieList",JSON.stringify(t.movieList))}},actions:{async getMovies({commit:t},e){t("setLoader",!0);const o="c712d32012d35a773f347cf0ae76dd7b",i={method:"GET",headers:{accept:"application/json",Authorization:"Bearer c712d32012d35a773f347cf0ae76dd7b"}};try{const s=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${o}&query=${e}`,i),r=await s.json();t("setSearchMovies",r)}catch(s){console.log(s)}finally{t("setLoader",!1)}}}});var Pt=Kt;(0,i.Ef)(Jt).use(Pt).mount("#app")}},e={};function o(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,i,s,r){if(!i){var a=1/0;for(v=0;v<t.length;v++){i=t[v][0],s=t[v][1],r=t[v][2];for(var n=!0,c=0;c<i.length;c++)(!1&r||a>=r)&&Object.keys(o.O).every((function(t){return o.O[t](i[c])}))?i.splice(c--,1):(n=!1,r<a&&(a=r));if(n){t.splice(v--,1);var l=s();void 0!==l&&(e=l)}}return e}r=r||0;for(var v=t.length;v>0&&t[v-1][2]>r;v--)t[v]=t[v-1];t[v]=[i,s,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/my-movies-collection/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,r,a=i[0],n=i[1],c=i[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(c)var v=c(o)}for(e&&e(i);l<a.length;l++)r=a[l],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(v)},i=self["webpackChunkmy_movies"]=self["webpackChunkmy_movies"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(8442)}));i=o.O(i)})();
//# sourceMappingURL=app.45c99665.js.map